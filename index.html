<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Wingman Pro</title>
    <style>
        :root { --primary: #6c5ce7; --secondary: #a29bfe; --bg: #f9f9fb; }
        body { font-family: 'Inter', sans-serif; background: var(--bg); display: flex; justify-content: center; padding: 20px; }
        .card { background: white; padding: 2rem; border-radius: 24px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); width: 100%; max-width: 500px; }
        h1 { color: var(--primary); text-align: center; font-size: 1.5rem; }
        label { display: block; margin: 15px 0 5px; font-weight: 600; color: #444; }
        select, textarea { width: 100%; padding: 12px; border: 2px solid #eee; border-radius: 12px; font-size: 1rem; transition: 0.3s; }
        select:focus, textarea:focus { border-color: var(--primary); outline: none; }
        button { width: 100%; padding: 15px; background: var(--primary); color: white; border: none; border-radius: 12px; font-weight: bold; font-size: 1rem; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        button:hover { background: #5b4cc4; transform: translateY(-2px); }
        button:disabled { background: #ccc; cursor: not-allowed; }
        #response { margin-top: 25px; padding: 15px; border-radius: 12px; background: #f1f0ff; color: #2d3436; line-height: 1.5; white-space: pre-wrap; display: none; border-left: 5px solid var(--primary); }
        .loader { display: none; text-align: center; margin-top: 10px; color: var(--primary); font-weight: bold; }
    </style>
</head>
<body>

<div class="card">
    <h1>ü§ñ AI Wingman</h1>
    <p style="text-align: center; color: #777; font-size: 0.9rem;">Analizando el chat en tiempo real...</p>

    <label>G√©nero de la otra persona:</label>
    <select id="gender">
        <option value="una chica">Una chica</option>
        <option value="un chico">Un chico</option>
        <option value="una persona no binaria">Alguien no binario</option>
    </select>

    <label>Tono de la respuesta:</label>
    <select id="tone">
        <option value="divertido y con humor">Divertido / Gracioso</option>
        <option value="interesante y misterioso">Misterioso</option>
        <option value="tierno y amable">Tierno / Dulce</option>
        <option value="directo pero respetuoso">Directo</option>
    </select>

    <label>Pega su √∫ltimo mensaje:</label>
    <textarea id="inputMsg" rows="3" placeholder="Ej: 'Jajaja, me caes super bien'"></textarea>

    <button id="btn" onclick="askAI()">Generar sugerencias ‚ú®</button>
    <div class="loader" id="loader">Consultando a la IA... üß†</div>
    <div id="response"></div>
</div>

<script>
    // IMPORTANTE: Pon tu API Key de Google AI Studio aqu√≠
    const API_KEY = "TU_API_KEY_AQU√ç"; 

    async function askAI() {
        const msg = document.getElementById('inputMsg').value;
        const gender = document.getElementById('gender').value;
        const tone = document.getElementById('tone').value;
        const btn = document.getElementById('btn');
        const loader = document.getElementById('loader');
        const responseDiv = document.getElementById('response');

        if (!msg) return alert("¬°Escribe algo primero!");
        if (API_KEY === "AIzaSyBgPkJvFc-2aB4MYXZzP9VZF7TAACLH6fI") return alert("Oye, te falta poner la API Key en el c√≥digo.");

        btn.disabled = true;
        loader.style.display = "block";
        responseDiv.style.display = "none";

        const prompt = `Act√∫a como un experto en habilidades sociales y ligue para un chico de 14 a√±os. 
        Le han enviado este mensaje: "${msg}". 
        La persona es ${gender}. 
        Dame 3 opciones de respuesta cortas y naturales en un tono ${tone}. 
        Mant√©n un lenguaje juvenil (de Espa√±a/Latam seg√∫n prefieras) pero respetuoso. Evita sonar raro o desesperado.`;

        try {
            const res = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${API_KEY}`, {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    contents: [{ parts: [{ text: prompt }] }]
                })
            });

            const data = await res.json();
            const text = data.candidates[0].content.parts[0].text;
            
            responseDiv.innerText = text;
            responseDiv.style.display = "block";
        } catch (error) {
            alert("Error al conectar con la IA. Revisa tu conexi√≥n o la API Key.");
        } finally {
            btn.disabled = false;
            loader.style.display = "none";
        }
    }
</script>

</body>
</html>
